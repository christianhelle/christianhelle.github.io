---
layout: post
title: How to Brighten an Image in WPF
date: '2011-02-03T10:00:00.010+01:00'
author: Christian Resma Helle
tags:
- Image Manipulation
- WPF
modified_time: '2011-02-03T10:00:17.946+01:00'
blogger_id: tag:blogger.com,1999:blog-4995334164049002857.post-1929113951975840048
blogger_orig_url: https://christian-helle.blogspot.com/2011/02/how-to-brighten-image-in-wpf.html
---

Now I'm just getting carried away with playing with image manipulation in WPF. Here's a short post on how to brighten an image using the WriteableBitmap class.  <br/><br/>The process is fairly simple, I manipulate each pixel by incrementing each RGB value with the provided level  <br/><br/><div style="font-family: Consolas; font-size: 10pt; color: black; background: white;"><pre style="margin: 0px;"><span style="color: blue;">unsafe</span> <span style="color: blue;">static</span> <span style="color: #2b91af;">BitmapSource</span> Brighten(<span style="color: #2b91af;">BitmapSource</span> image, <span style="color: blue;">double</span> level)</pre><pre style="margin: 0px;">{</pre><pre style="margin: 0px;">&nbsp;&nbsp;&nbsp; <span style="color: blue;">const</span> <span style="color: blue;">int</span> PIXEL_SIZE = 4;</pre><pre style="margin: 0px;">&nbsp;&nbsp;&nbsp; <span style="color: blue;">int</span> height = image.PixelHeight;</pre><pre style="margin: 0px;">&nbsp;&nbsp;&nbsp; <span style="color: blue;">int</span> width = image.PixelWidth;</pre><pre style="margin: 0px;">&nbsp;</pre><pre style="margin: 0px;">&nbsp;&nbsp;&nbsp; <span style="color: blue;">var</span> bitmap = <span style="color: blue;">new</span> <span style="color: #2b91af;">WriteableBitmap</span>(image);&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; </pre><pre style="margin: 0px;">&nbsp;&nbsp;&nbsp; bitmap.Lock();</pre><pre style="margin: 0px;">&nbsp;</pre><pre style="margin: 0px;">&nbsp;&nbsp;&nbsp; <span style="color: blue;">var</span> backBuffer = (<span style="color: blue;">byte</span>*)bitmap.BackBuffer.ToPointer();</pre><pre style="margin: 0px;">&nbsp;&nbsp;&nbsp; <span style="color: blue;">for</span> (<span style="color: blue;">int</span> y = 0; y &lt; height; y++)</pre><pre style="margin: 0px;">&nbsp;&nbsp;&nbsp; {</pre><pre style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue;">var</span> row = backBuffer + (y * bitmap.BackBufferStride);</pre><pre style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue;">for</span> (<span style="color: blue;">int</span> x = 0; x &lt; width; x++)</pre><pre style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue;">for</span> (<span style="color: blue;">int</span> i = 0; i &lt; PIXEL_SIZE; i++)</pre><pre style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; row[x * PIXEL_SIZE + i] = (<span style="color: blue;">byte</span>)<span style="color: #2b91af;">Math</span>.Min(row[x * PIXEL_SIZE + i] + level, 255);</pre><pre style="margin: 0px;">&nbsp;&nbsp;&nbsp; }</pre><pre style="margin: 0px;">&nbsp;</pre><pre style="margin: 0px;">&nbsp;&nbsp;&nbsp; bitmap.AddDirtyRect(<span style="color: blue;">new</span> <span style="color: #2b91af;">Int32Rect</span>(0, 0, width, height));</pre><pre style="margin: 0px;">&nbsp;&nbsp;&nbsp; bitmap.Unlock();</pre><pre style="margin: 0px;">&nbsp;</pre><pre style="margin: 0px;">&nbsp;&nbsp;&nbsp; <span style="color: blue;">return</span> bitmap;</pre><pre style="margin: 0px;">}</pre></div> <br/><br/>Hope you found this useful