---
layout: post
title: Scrollable UISegmentedControl for Xamarin.iOS
date: '2019-06-09T14:52:00.005+02:00'
author: Christian Resma Helle
tags:
- iOS
- Xamarin
modified_time: '2019-06-11T18:54:11.769+02:00'
thumbnail: https://1.bp.blogspot.com/-gC-VaqZBJrI/XPz-aZ02FWI/AAAAAAAAWBs/orVSUyZjkvU7TtX0wxZ2lcqCoLPF5X7OQCLcBGAs/s72-c/scrollablesegmentedcontrol-nuget.png
blogger_id: tag:blogger.com,1999:blog-4995334164049002857.post-1168052297225765485
blogger_orig_url: https://christian-helle.blogspot.com/2019/06/scrollable-uisegmentedcontrol-for.html
---

A few years ago, I had a full time job as a device developer in the Music Streaming industry. The applications we produced at the time targeted consumers and had a huge focus on UX and UI. One of the requirements our designers had was to have scrollable tabs. This was 5 years ago and before <a href="https://docs.microsoft.com/en-us/xamarin/xamarin-forms/">Xamarin.Forms</a> existed so we built the <a href="http://itunes.apple.com/dk/app/yousee-musik/id1108892163" target="_blank">iOS app</a> and <a href="http://play.google.com/store/apps/details?id=dk.yousee.musik" target="_blank">Android app</a> separately. We used <a href="https://www.mvvmcross.com/">MvvmCross</a>&nbsp;and the shared a lot of core code but the UI components were done per OS. When we started, the company did a recent switch to go full on with .NET on everything, so not only did we share code between apps, but we shared code across all systems within the entire organization.<br /><br />Scrollable tabs come for free in Android using the built-in control <a href="https://developer.android.com/reference/android/support/design/widget/TabLayout">TabLayout </a>but on iOS we needed to re-create the <a href="https://developer.apple.com/documentation/uikit/uisegmentedcontrol" target="_blank">UISegmentedControl</a>&nbsp;and add scroll/pan/swipe functionality to it. On native code, you had a few options to choose from, so the first task was to find the best native implementation of it and port it to C#. A few Google searches later I found the <a href="https://github.com/HeshamMegid/HMSegmentedControl" target="_blank">HMSegmentedControl</a>&nbsp;written by&nbsp;<a href="https://hesh.am/" target="_blank">Hesham Abd-Elmegid</a>. The component at the time was written in a single file and was a drop in replacement for the UISegmentedControl. It was functional, elegent, and directly portable to C#. It was perfect!<br /><br />A few hours of focused coding later I managed to port the entire thing to C# and created a <a href="https://github.com/christianhelle/ScrollableSegmentedControl" target="_blank">Github project</a> for it. I originally called it HMSegmentedControl as a tribute to the author (I also sent him a thank you email at the time) but later changed it to ScrollableSegmentedControl as it was a better and more descriptive name that states exactly what it does. Recently, I re-visited this project to clean up, modernize the code, and structure of the repository. I added a <a href="https://github.com/christianhelle/ScrollableSegmentedControl/blob/master/README.md">README </a>file with a useful description, screenshots, and code examples. I also published a <a href="https://www.nuget.org/packages/scrollablesegmentedcontrol" target="_blank">NuGet package</a>&nbsp;called <a href="https://www.nuget.org/packages/scrollablesegmentedcontrol">ScrollableSegmentedControl</a> to make it easier for others to use while keeping the responsibility of maintaining it.<br /><br />So using the component is quite trivial. Here's all you need to do:<br /><br />Add the ScrollableSegmentedControl <a href="https://www.nuget.org/packages/scrollablesegmentedcontrol">NuGet package</a><br /><br /><img src="https://1.bp.blogspot.com/-gC-VaqZBJrI/XPz-aZ02FWI/AAAAAAAAWBs/orVSUyZjkvU7TtX0wxZ2lcqCoLPF5X7OQCLcBGAs/s1600/scrollablesegmentedcontrol-nuget.png" /><br /><br />then you create an instance of <b>ScrollableSegmentedControl</b> and you add it to a View<br /><br /><pre style="line-height: 125%; margin: 0;"><span style="color: blue;">using</span> System;<br /><span style="color: blue;">using</span> ChristianHelle.Controls.iOS;<br /><span style="color: blue;">using</span> CoreGraphics;<br /><span style="color: blue;">using</span> UIKit;<br /><br /><span style="color: blue;">namespace</span> ScrollableSegmentedControlSample<br />{<br />    <span style="color: blue;">public</span> <span style="color: blue;">partial</span> <span style="color: blue;">class</span> <span style="color: #2b91af;">ViewController</span> : UIViewController<br />    {<br />        <span style="color: blue;">public</span> ViewController(IntPtr handle) : <span style="color: blue;">base</span>(handle)<br />        {<br />        }<br /><br />        <span style="color: blue;">public</span> <span style="color: blue;">override</span> <span style="color: blue;">void</span> ViewDidLoad()<br />        {<br />            <span style="color: blue;">base</span>.ViewDidLoad();<br />            CreateScrollableSegmentedControl();<br />        }<br /><br />        <span style="color: blue;">private</span> <span style="color: blue;">void</span> CreateScrollableSegmentedControl()<br />        {<br />            <span style="color: #2b91af;">var</span> sectionTitles = <span style="color: blue;">new</span>[] { <span style="color: #a31515;">"One"</span>, <span style="color: #a31515;">"Two"</span>, <span style="color: #a31515;">"Three"</span>, <span style="color: #a31515;">"Four"</span>, <span style="color: #a31515;">"Five"</span>, <span style="color: #a31515;">"Six"</span> };<br />            View.AddSubview(<span style="color: blue;">new</span> ScrollableSegmentedControl(sectionTitles)<br />            {<br />                Font = UIFont.FromName(<span style="color: #a31515;">"STHeitiSC-Light"</span>, 18.0f),<br />                Frame = <span style="color: blue;">new</span> CGRect(0, 60, View.Frame.Width, 40),<br />                SegmentEdgeInset = <span style="color: blue;">new</span> UIEdgeInsets(0, 10, 0, 10),<br />                SelectionStyle = ScrollableSegmentedControlSelectionStyle.FullWidthStripe,<br />                SelectionIndicatorLocation = ScrollableSegmentedControlIndicatorLocation.Down<br />            });<br />        }<br />    }<br />}<br /></pre><br />This would result in a segmented control that looks like this:<br /><br /><img src="https://1.bp.blogspot.com/-N_a6Wsi8rFo/XPz6hMrjZdI/AAAAAAAAV-8/L7wuNCuhqV4xHKo4E2RXk5yLleyhCaTowCLcBGAs/s1600/scrollablesegmentedcontrol.png" /><br /><br />and can look like one of these examples depending on the <b>SelectionStyle </b>and <b>SelectionIndicatorLocation</b><br /><br /><img src="https://1.bp.blogspot.com/-c4MjIJR2IfI/XPz8nx5J11I/AAAAAAAAV_U/03w1U8i2sHQ1J5UQvOTAr3NMtTuJVKiCQCLcBGAs/s1600/scrollablesegmentedcontrol-dark.png" /><br /><br />This post is probably 5 years too late but since I just only recently made it publicly available as a NuGet package I thought I should write a short article about it. I hope you find this useful<br />