---
layout: post
title: Accessing the Accelerometer from HTML5 and Javascript with Windows Phone 7
date: '2012-03-10T00:16:00.000+01:00'
author: Christian Resma Helle
tags:
- Windows Phone 7
- Javascript
- HTML5
modified_time: '2012-03-10T07:03:55.389+01:00'
thumbnail: http://1.bp.blogspot.com/-8M4jkELOzHs/T1qIaxexTGI/AAAAAAAAC2g/W1Z79calWJw/s72-c/AccelerometerEmulator.png
blogger_id: tag:blogger.com,1999:blog-4995334164049002857.post-3692951769254666368
blogger_orig_url: https://christian-helle.blogspot.com/2012/03/accessing-accelerometer-from-html5-and.html
---

In my <a href="2012/03/integrating-html5-and-javascript-with.html">previous post</a>&nbsp;I discussed how to have Javascript code hosted in a WebBrowser control execute .NET code in the host application and vice versa. I also demonstrated how to retrieve and display device status information using HTML5 hosted in a WebBrowser control.<br /><br />For this sample I would like to demonstrate how to access the <a href="http://msdn.microsoft.com/en-us/library/microsoft.devices.sensors.accelerometer.aspx">Accelerometer</a>&nbsp;sensor from HTML5 and Javascript. To make things more interesting, the Accelerometer reading data will be constantly updated every 100 milliseconds and .NET code will repeatedly call a Javascript method as Accelerometer reading data gets updated<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-8M4jkELOzHs/T1qIaxexTGI/AAAAAAAAC2g/W1Z79calWJw/s1600/AccelerometerEmulator.png" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" height="640" src="http://1.bp.blogspot.com/-8M4jkELOzHs/T1qIaxexTGI/AAAAAAAAC2g/W1Z79calWJw/s640/AccelerometerEmulator.png" width="336" /></a></div><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-hjHWapbn3Xo/T1qIbYNcp0I/AAAAAAAAC2k/Of0FP5dtqbw/s1600/AccelerometerTool.png" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" height="569" src="http://1.bp.blogspot.com/-hjHWapbn3Xo/T1qIbYNcp0I/AAAAAAAAC2k/Of0FP5dtqbw/s640/AccelerometerTool.png" width="640" /></a></div><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />And here's the code...<br /><br /><b>Default.html (HTML5 + Javascript)</b><br /><br />The code below is going to be used as a local html file that is to be copied to isolated storage. Let's put this in a folder called HTML<br /><br /><div style="font-family: Consolas; font-size: 10pt; color: black; background: white;"><p style="margin: 0px;"><span style="color: blue;">&lt;!</span><span style="color: maroon;">DOCTYPE</span> <span style="color: red;">html</span><span style="color: blue;">&gt;</span></p><p style="margin: 0px;"><span style="color: blue;">&lt;</span><span style="color: maroon;">html</span><span style="color: blue;">&gt;</span></p><p style="margin: 0px;"><span style="color: blue;">&lt;</span><span style="color: maroon;">head</span><span style="color: blue;">&gt;</span></p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; <span style="color: blue;">&lt;</span><span style="color: maroon;">meta</span> <span style="color: red;">name</span><span style="color: blue;">=&quot;viewport&quot;</span> <span style="color: red;">content</span><span style="color: blue;">=&quot;width=480, height=800, user-scalable=no&quot;</span> <span style="color: blue;">/&gt;</span></p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; <span style="color: blue;">&lt;</span><span style="color: maroon;">meta</span> <span style="color: red;">name</span><span style="color: blue;">=&quot;MobileOptimized&quot;</span> <span style="color: red;">content</span><span style="color: blue;">=&quot;width&quot;</span> <span style="color: blue;">/&gt;</span></p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; <span style="color: blue;">&lt;</span><span style="color: maroon;">meta</span> <span style="color: red;">name</span><span style="color: blue;">=&quot;HandheldFriendly&quot;</span> <span style="color: red;">content</span><span style="color: blue;">=&quot;true&quot;</span> <span style="color: blue;">/&gt;</span></p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; <span style="color: blue;">&lt;</span><span style="color: maroon;">title</span><span style="color: blue;">&gt;</span>HTML5 and Windows Phone 7<span style="color: blue;">&lt;/</span><span style="color: maroon;">title</span><span style="color: blue;">&gt;</span></p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; <span style="color: blue;">&lt;</span><span style="color: maroon;">style</span><span style="color: blue;">&gt;</span></p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: maroon;">body</span></p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: red;">color</span>: <span style="color: blue;">White</span>;</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: red;">background-color</span>: <span style="color: blue;">Black</span>;</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: red;">font-family</span>: <span style="color: blue;">'Segoe WP Semibold'</span>;</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: red;">text-align</span>: <span style="color: blue;">left</span>;</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: maroon;">h3</span></p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: red;">font-size</span>: <span style="color: blue;">20pt</span>;</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: maroon;">input</span></p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: red;">color</span>: <span style="color: blue;">#ffffff</span>;</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: red;">background-color</span>: <span style="color: blue;">#000000</span>;</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: red;">border</span>: <span style="color: blue;">2px</span> <span style="color: blue;">solid</span> <span style="color: blue;">white</span>;</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: red;">vertical-align</span>: <span style="color: blue;">baseline</span>;</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: red;">font-size</span>: <span style="color: blue;">17pt</span>;</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: red;">min-width</span>: <span style="color: blue;">40px</span>;</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: red;">min-height</span>: <span style="color: blue;">40px</span>;</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: red;">margin</span>: <span style="color: blue;">5</span>;</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; <span style="color: blue;">&lt;/</span><span style="color: maroon;">style</span><span style="color: blue;">&gt;</span></p><p style="margin: 0px;"><span style="color: blue;">&lt;/</span><span style="color: maroon;">head</span><span style="color: blue;">&gt;</span></p><p style="margin: 0px;"><span style="color: blue;">&lt;</span><span style="color: maroon;">body</span> <span style="color: red;">onload</span><span style="color: blue;">=&quot;onLoad()&quot;&gt;</span></p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; <span style="color: blue;">&lt;</span><span style="color: maroon;">div</span><span style="color: blue;">&gt;</span></p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue;">&lt;</span><span style="color: maroon;">h3</span><span style="color: blue;">&gt;</span></p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; X:<span style="color: blue;">&lt;/</span><span style="color: maroon;">h3</span><span style="color: blue;">&gt;</span></p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue;">&lt;</span><span style="color: maroon;">input</span> <span style="color: red;">id</span><span style="color: blue;">=&quot;x&quot;</span> <span style="color: red;">type</span><span style="color: blue;">=&quot;text&quot;</span> <span style="color: red;">value</span><span style="color: blue;">=&quot;0&quot;</span> <span style="color: blue;">/&gt;</span></p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue;">&lt;</span><span style="color: maroon;">h3</span><span style="color: blue;">&gt;</span></p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Y:<span style="color: blue;">&lt;/</span><span style="color: maroon;">h3</span><span style="color: blue;">&gt;</span></p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue;">&lt;</span><span style="color: maroon;">input</span> <span style="color: red;">id</span><span style="color: blue;">=&quot;y&quot;</span> <span style="color: red;">type</span><span style="color: blue;">=&quot;text&quot;</span> <span style="color: red;">value</span><span style="color: blue;">=&quot;0&quot;</span> <span style="color: blue;">/&gt;</span></p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue;">&lt;</span><span style="color: maroon;">h3</span><span style="color: blue;">&gt;</span></p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Z:<span style="color: blue;">&lt;/</span><span style="color: maroon;">h3</span><span style="color: blue;">&gt;</span></p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue;">&lt;</span><span style="color: maroon;">input</span> <span style="color: red;">id</span><span style="color: blue;">=&quot;z&quot;</span> <span style="color: red;">type</span><span style="color: blue;">=&quot;text&quot;</span> <span style="color: red;">value</span><span style="color: blue;">=&quot;0&quot;</span> <span style="color: blue;">/&gt;</span></p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; <span style="color: blue;">&lt;/</span><span style="color: maroon;">div</span><span style="color: blue;">&gt;</span></p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; <span style="color: blue;">&lt;</span><span style="color: maroon;">script</span> <span style="color: red;">type</span><span style="color: blue;">=&quot;text/javascript&quot;&gt;</span></p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue;">function</span> onLoad() {</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; window.external.notify(<span style="color: maroon;">&quot;startAccelerometer&quot;</span>);</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</p><p style="margin: 0px;">&nbsp;</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue;">function</span> accelerometerCallback(x, y, z) {</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; document.getElementById(<span style="color: maroon;">&quot;x&quot;</span>).value = x;</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; document.getElementById(<span style="color: maroon;">&quot;y&quot;</span>).value = y;</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; document.getElementById(<span style="color: maroon;">&quot;z&quot;</span>).value = z;</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; <span style="color: blue;">&lt;/</span><span style="color: maroon;">script</span><span style="color: blue;">&gt;</span></p><p style="margin: 0px;"><span style="color: blue;">&lt;/</span><span style="color: maroon;">body</span><span style="color: blue;">&gt;</span></p><p style="margin: 0px;"><span style="color: blue;">&lt;/</span><span style="color: maroon;">html</span><span style="color: blue;">&gt;</span></p><p style="margin: 0px;">&nbsp;</p></div><br /><b>MainPage.xaml</b><br /><br />The code below is the main page of the Silverlight application that will host the HTML content<br /><br /><div style="background: white; color: black; font-family: Consolas; font-size: 10pt;"><div style="margin: 0px;"><span style="color: blue;">&lt;</span><span style="color: #a31515;">phone</span><span style="color: blue;">:</span><span style="color: #a31515;">PhoneApplicationPage</span><span style="color: red;"> x</span><span style="color: blue;">:</span><span style="color: red;">Class</span><span style="color: blue;">="PhoneApp.MainPage"</span></div><div style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp; <span style="color: red;"> xmlns</span><span style="color: blue;">="http://schemas.microsoft.com/winfx/2006/xaml/presentation"</span></div><div style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp; <span style="color: red;"> xmlns</span><span style="color: blue;">:</span><span style="color: red;">x</span><span style="color: blue;">="http://schemas.microsoft.com/winfx/2006/xaml"</span></div><div style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp; <span style="color: red;"> xmlns</span><span style="color: blue;">:</span><span style="color: red;">phone</span><span style="color: blue;">="clr-namespace:Microsoft.Phone.Controls;assembly=Microsoft.Phone"</span></div><div style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp; <span style="color: red;"> xmlns</span><span style="color: blue;">:</span><span style="color: red;">shell</span><span style="color: blue;">="clr-namespace:Microsoft.Phone.Shell;assembly=Microsoft.Phone"</span></div><div style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp; <span style="color: red;"> xmlns</span><span style="color: blue;">:</span><span style="color: red;">d</span><span style="color: blue;">="http://schemas.microsoft.com/expression/blend/2008"</span></div><div style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp; <span style="color: red;"> xmlns</span><span style="color: blue;">:</span><span style="color: red;">mc</span><span style="color: blue;">="http://schemas.openxmlformats.org/markup-compatibility/2006"</span></div><div style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp; <span style="color: red;"> mc</span><span style="color: blue;">:</span><span style="color: red;">Ignorable</span><span style="color: blue;">="d"</span></div><div style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp; <span style="color: red;"> d</span><span style="color: blue;">:</span><span style="color: red;">DesignWidth</span><span style="color: blue;">="480"</span></div><div style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp; <span style="color: red;"> d</span><span style="color: blue;">:</span><span style="color: red;">DesignHeight</span><span style="color: blue;">="768"</span></div><div style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp; <span style="color: red;"> FontFamily</span><span style="color: blue;">="{</span><span style="color: #a31515;">StaticResource</span><span style="color: red;"> PhoneFontFamilyNormal</span><span style="color: blue;">}"</span></div><div style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp; <span style="color: red;"> FontSize</span><span style="color: blue;">="{</span><span style="color: #a31515;">StaticResource</span><span style="color: red;"> PhoneFontSizeNormal</span><span style="color: blue;">}"</span></div><div style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp; <span style="color: red;"> Foreground</span><span style="color: blue;">="{</span><span style="color: #a31515;">StaticResource</span><span style="color: red;"> PhoneForegroundBrush</span><span style="color: blue;">}"</span></div><div style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp; <span style="color: red;"> SupportedOrientations</span><span style="color: blue;">="Portrait"</span></div><div style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp; <span style="color: red;"> Orientation</span><span style="color: blue;">="Portrait"</span></div><div style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp; <span style="color: red;"> shell</span><span style="color: blue;">:</span><span style="color: red;">SystemTray.IsVisible</span><span style="color: blue;">="True"</span></div><div style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp; <span style="color: red;"> Loaded</span><span style="color: blue;">="PhoneApplicationPage_Loaded"&gt;</span></div><div style="margin: 0px;"><br /></div><div style="margin: 0px;"><span style="color: #a31515;">&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">&lt;</span><span style="color: #a31515;">Grid</span><span style="color: red;"> x</span><span style="color: blue;">:</span><span style="color: red;">Name</span><span style="color: blue;">="LayoutRoot"</span></div><div style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; <span style="color: red;"> Background</span><span style="color: blue;">="Transparent"&gt;</span></div><div style="margin: 0px;"><span style="color: #a31515;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; </span><span style="color: blue;">&lt;</span><span style="color: #a31515;">phone</span><span style="color: blue;">:</span><span style="color: #a31515;">WebBrowser</span><span style="color: red;"> Name</span><span style="color: blue;">="browser"</span></div><div style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; <span style="color: red;"> IsScriptEnabled</span><span style="color: blue;">="True"</span></div><div style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; <span style="color: red;"> Source</span><span style="color: blue;">="HTML/Default.html"</span></div><div style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; <span style="color: red;"> ScriptNotify</span><span style="color: blue;">="browser_ScriptNotify" /&gt;</span></div><div style="margin: 0px;"><span style="color: #a31515;">&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">&lt;/</span><span style="color: #a31515;">Grid</span><span style="color: blue;">&gt;</span></div><div style="margin: 0px;"><br /></div><div style="margin: 0px;"><span style="color: blue;">&lt;/</span><span style="color: #a31515;">phone</span><span style="color: blue;">:</span><span style="color: #a31515;">PhoneApplicationPage</span><span style="color: blue;">&gt;</span></div></div><br /><b>MainPage.xaml.cs</b><br /><br />And here's the code behind the xaml file<br /><br /><div style="font-family: Consolas; font-size: 10pt; color: black; background: white;"><p style="margin: 0px;"><span style="color: blue;">public</span> <span style="color: blue;">partial</span> <span style="color: blue;">class</span> <span style="color: #2b91af;">MainPage</span> : <span style="color: #2b91af;">PhoneApplicationPage</span></p><p style="margin: 0px;">{</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; <span style="color: blue;">private</span> Microsoft.Devices.Sensors.<span style="color: #2b91af;">Accelerometer</span> accelerometer;</p><p style="margin: 0px;">&nbsp;</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; <span style="color: blue;">public</span> MainPage()</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; {</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; InitializeComponent();</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; }</p><p style="margin: 0px;">&nbsp;</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; <span style="color: blue;">private</span> <span style="color: blue;">void</span> PhoneApplicationPage_Loaded(<span style="color: blue;">object</span> sender, <span style="color: #2b91af;">RoutedEventArgs</span> e)</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; {</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue;">using</span> (<span style="color: #2b91af;">IsolatedStorageFile</span> store = <span style="color: #2b91af;">IsolatedStorageFile</span>.GetUserStoreForApplication())</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue;">if</span> (!store.DirectoryExists(<span style="color: #a31515;">&quot;HTML&quot;</span>)) store.CreateDirectory(<span style="color: #a31515;">&quot;HTML&quot;</span>);</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; CopyToIsolatedStorage(<span style="color: #a31515;">&quot;HTML\\Default.html&quot;</span>, store);</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; }</p><p style="margin: 0px;">&nbsp;</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; <span style="color: blue;">private</span> <span style="color: blue;">static</span> <span style="color: blue;">void</span> CopyToIsolatedStorage(<span style="color: blue;">string</span> file, <span style="color: #2b91af;">IsolatedStorageFile</span> store, <span style="color: blue;">bool</span> overwrite = <span style="color: blue;">true</span>)</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; {</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue;">if</span> (store.FileExists(file) &amp;&amp; !overwrite)</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue;">return</span>;</p><p style="margin: 0px;">&nbsp;</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue;">using</span> (<span style="color: #2b91af;">Stream</span> resourceStream = <span style="color: #2b91af;">Application</span>.GetResourceStream(<span style="color: blue;">new</span> <span style="color: #2b91af;">Uri</span>(file, <span style="color: #2b91af;">UriKind</span>.Relative)).Stream)</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue;">using</span> (<span style="color: #2b91af;">IsolatedStorageFileStream</span> fileStream = store.OpenFile(file, <span style="color: #2b91af;">FileMode</span>.Create, <span style="color: #2b91af;">FileAccess</span>.ReadWrite, <span style="color: #2b91af;">FileShare</span>.ReadWrite))</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue;">int</span> bytesRead;</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue;">var</span> buffer = <span style="color: blue;">new</span> <span style="color: blue;">byte</span>[resourceStream.Length];</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue;">while</span> ((bytesRead = resourceStream.Read(buffer, 0, buffer.Length)) &gt; 0)</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; fileStream.Write(buffer, 0, bytesRead);</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; }</p><p style="margin: 0px;">&nbsp;</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; <span style="color: blue;">private</span> <span style="color: blue;">void</span> browser_ScriptNotify(<span style="color: blue;">object</span> sender, <span style="color: #2b91af;">NotifyEventArgs</span> e)</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; {</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue;">if</span> (e.Value == <span style="color: #a31515;">&quot;startAccelerometer&quot;</span>)</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue;">if</span> (accelerometer == <span style="color: blue;">null</span>)</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; accelerometer = <span style="color: blue;">new</span> Microsoft.Devices.Sensors.<span style="color: #2b91af;">Accelerometer</span> { TimeBetweenUpdates = <span style="color: #2b91af;">TimeSpan</span>.FromMilliseconds(100) };</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; accelerometer.CurrentValueChanged += (o, args) =&gt; Dispatcher.BeginInvoke(() =&gt;</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue;">var</span> x = args.SensorReading.Acceleration.X.ToString(<span style="color: #a31515;">&quot;0.000&quot;</span>);</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue;">var</span> y = args.SensorReading.Acceleration.Y.ToString(<span style="color: #a31515;">&quot;0.000&quot;</span>);</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue;">var</span> z = args.SensorReading.Acceleration.Z.ToString(<span style="color: #a31515;">&quot;0.000&quot;</span>);</p><p style="margin: 0px;">&nbsp;</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; browser.InvokeScript(<span style="color: #a31515;">&quot;eval&quot;</span>, <span style="color: blue;">string</span>.Format(<span style="color: #a31515;">&quot;accelerometerCallback(</span><span style="color: #3cb371;">{0}</span><span style="color: #a31515;">,</span><span style="color: #3cb371;">{1}</span><span style="color: #a31515;">,</span><span style="color: #3cb371;">{2}</span><span style="color: #a31515;">)&quot;</span>, x, y, z));</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; });</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; accelerometer.Start();</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</p><p style="margin: 0px;">&nbsp;&nbsp;&nbsp; }</p><p style="margin: 0px;">}</p></div><br />What happens in the code above is that a Javascript method is executed that notifies the host application telling it to start the Accelerometer when the HTML has loaded. We then add an event handler to the Accelerometers <a href="http://msdn.microsoft.com/en-us/library/hh239103.aspx">CurrentValueChanged</a> event that invokes the accelerometerCallback Javascript method and passing in Accelerometer reading data as the arguments. Notice that I use <b>eval</b> as the Javascript method to invoke and passing the method call as an argument, this is because the accelerometer reading data is retrieved on a worker thread and for some reason an unknown system error occurs even when executing code on the UI thread through the Page Dispatcher.BeginInvoke() method. I figured out that using <b>eval</b> was the only way to execute Javascript code from a .NET worker thread.<br /><br />I hope you found this useful. You can grab the full source code for the example here:<br /><iframe title ="Preview" scrolling="no" marginheight="0" marginwidth="0" frameborder="0" width="98px" height="120px" style="padding:0;background-color:#fcfcfc;" src="https://skydrive.live.com/embed?cid=CA531E7FB4762C70&resid=CA531E7FB4762C70%21847&authkey=ANDLSxn_XMFkZCU"></iframe>