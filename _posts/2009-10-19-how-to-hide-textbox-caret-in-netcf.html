---
layout: post
title: How to hide the TextBox caret in .NETCF
date: '2009-10-19T10:51:00.020+02:00'
author: Christian Resma Helle
tags:
- Controls
- How to
- ".NET Compact Framework"
- TextBox
modified_time: '2009-12-23T15:34:34.185+01:00'
blogger_id: tag:blogger.com,1999:blog-4995334164049002857.post-5789645034309571763
blogger_orig_url: https://christian-helle.blogspot.com/2009/10/how-to-hide-textbox-caret-in-netcf.html
---

I was trying to help a developer today in the smart device forums who wanted to hide the caret in the TextBox control. I started playing around with the Windows Mobile Platform SDK and I stumbled upon the methods <a href="http://msdn.microsoft.com/en-us/library/ms929930.aspx">HideCaret()</a> and <a href="http://msdn.microsoft.com/en-us/library/aa453729.aspx">ShowCaret()</a>.<br /><br />The outcome is this simple inherited TextBox control I decided to call TextBoxWithoutCaret :)<br /><br /><div style="font-family: Fixedsys; font-size: 10pt; color: black; background: white;"><pre style="margin: 0px;"><span style="color: blue;">class</span> <span style="color: #2b91af;">TextBoxWithoutCaret</span> : <span style="color: #2b91af;">TextBox</span></pre><pre style="margin: 0px;">{</pre><pre style="margin: 0px;">&nbsp;&nbsp;&nbsp; [<span style="color: #2b91af;">DllImport</span>(<span style="color: #a31515;">&quot;coredll.dll&quot;</span>)]</pre><pre style="margin: 0px;">&nbsp;&nbsp;&nbsp; <span style="color: blue;">static</span> <span style="color: blue;">extern</span> <span style="color: blue;">bool</span> HideCaret(<span style="color: #2b91af;">IntPtr</span> hwnd);</pre><pre style="margin: 0px;">&nbsp;</pre><pre style="margin: 0px;">&nbsp;&nbsp;&nbsp; [<span style="color: #2b91af;">DllImport</span>(<span style="color: #a31515;">&quot;coredll.dll&quot;</span>)]</pre><pre style="margin: 0px;">&nbsp;&nbsp;&nbsp; <span style="color: blue;">static</span> <span style="color: blue;">extern</span> <span style="color: blue;">bool</span> ShowCaret(<span style="color: #2b91af;">IntPtr</span> hwnd);</pre><pre style="margin: 0px;">&nbsp;</pre><pre style="margin: 0px;">&nbsp;&nbsp;&nbsp; <span style="color: blue;">protected</span> <span style="color: blue;">override</span> <span style="color: blue;">void</span> OnGotFocus(<span style="color: #2b91af;">EventArgs</span> e)</pre><pre style="margin: 0px;">&nbsp;&nbsp;&nbsp; {</pre><pre style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue;">base</span>.OnGotFocus(e);</pre><pre style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; HideCaret(Handle);</pre><pre style="margin: 0px;">&nbsp;&nbsp;&nbsp; }</pre><pre style="margin: 0px;">&nbsp;</pre><pre style="margin: 0px;">&nbsp;&nbsp;&nbsp; <span style="color: blue;">protected</span> <span style="color: blue;">override</span> <span style="color: blue;">void</span> OnLostFocus(<span style="color: #2b91af;">EventArgs</span> e)</pre><pre style="margin: 0px;">&nbsp;&nbsp;&nbsp; {</pre><pre style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: blue;">base</span>.OnLostFocus(e);</pre><pre style="margin: 0px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; ShowCaret(Handle);</pre><pre style="margin: 0px;">&nbsp;&nbsp;&nbsp; }</pre><pre style="margin: 0px;">}</pre></div><br />Every time the TextBox control is focused I hide the caret and enable it again when focus is lost. This doesn't really make much practical sense and the only reason I do this is because HideCaret() is described to perform a cumulative operation meaning ShowCaret() must be called the same number of times HideCaret() was called for the caret to be visible again.